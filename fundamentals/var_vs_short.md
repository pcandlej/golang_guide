# Golang中var关键字与短声明运算符（:=）的区别

#### 一、核心差异
| | var关键字 | 短声明运算符（:=） |
|---|---|---|
| 声明范围 | 函数内外均可 | 仅函数内 |
| 作用域 | 全局（函数外）或局部（函数内） | 仅局部 |
| 初始化要求 | 可单独声明（未初始化时取零值） | 必须同时声明与初始化 |
| 类型指定 | 需显式指定（类型推断除外） | 无需指定（自动推断，指定则报错） |


#### 二、关键特性
1. **var关键字**：  
   - 作为语言关键字，支持全局变量（函数外声明）和局部变量（函数内声明）。  
   - 允许“先声明后初始化”，未初始化时变量自动取对应类型的零值（如`var a int`默认值为0）。  
   - 类型为必填项，除非通过`var a = 10`这样的写法让编译器自动推断。  

2. **短声明运算符（:=）**：  
   - 仅用于函数内局部变量声明，无法定义全局变量。  
   - 语法强制“声明即初始化”，如`a := 10`，省略初始化会报错。  
   - 类型由右侧值自动推断，无需手动指定（指定类型会触发错误）。  


#### 三、示例
- **var关键字**（全局+局部）：  
  ```go
  var global int = 100 // 全局变量
  func main() {
      var local int      // 局部变量，零值为0
      fmt.Println(global, local) // 输出：100 0
  }
  ```

- **短声明运算符**（仅局部）：  
  ```go
  func main() {
      a := 200 // 局部变量，类型自动推断为int
      fmt.Println(a) // 输出：200
  }
  ```
- **常见错误**
  ```go
  var a // 错误：未指定类型且无初始化值，编译器无法推断类型
  ```
  ```go
  var x int = 5
  var x int = 10 // 错误：同一作用域内变量名重复声明
  ```
  ```go
  a := 20 // 错误：:=不能用于全局变量声明，仅允许在函数内使用
  func main() {}
  ```
  ```go
  func main() {
    num := 100      // num为int类型
    num := "hello"  // 错误：类型不匹配，不能将string赋值给int类型变量
  }
  ```
  ```go
  func main() {
    a int := 50 // 错误：:=不允许显式指定类型，类型由值自动推断
  }
  ```
  ```go
  var global int = 50

  func main() {
    global := 100 // 错误：:=会尝试声明新的局部变量，而非修改全局变量
  }
  ```
  ```go
  func main() {
    var a int = 10
    a := 20 // 错误：同一作用域内变量a已通过var声明，不能再用:=重复声明
  }
  ```
