# var 关键字

在Go语言中，**var关键字**用于声明变量，可指定变量的标识符（名称）、类型和初始值，其中初始化是可选的。
Go的**类型推断**特性允许声明变量时省略类型，由编译器自动判断。**var关键字支持单行声明多个变量**（可指
定类型或利用类型推断，同类型变量需指定共同类型，不同类型变量可省略类型），也可通过**多行块形式**（var后
接括号）声明不同类型变量。需注意，声明时不能同时省略类型和初始值，否则会报错；未初始化的变量会被赋予
**零值**（数字为0、布尔值为false、字符串为空串等）。

---

## **var关键字核心功能**
- 用于声明变量，需指定标识符
- 可包含类型和初始值，初始化可选
## **声明语法**
- 完整语法：var identifier type = expression
- 类型推断：var identifier = initialValue（省略类型）
## **多变量声明方式**
- 单行声明
  - 同类型：var a,b,c int = 1,2,3
  - 不同类型（类型推断）：var a,b = 1,"str"
- 多行块声明：var(...)内分行动态声明不同类型
## **关键规则与特性**
- 不可同时省略类型和初始值
- 未初始化变量有零值（数字0、bool false等）

---

#### 一、var关键字的基本作用与语法
- **核心作用**：`var`是Go语言中用于声明变量的关键字，通过它可以创建具有特定名称、类型和初始值的变量。
- **基本语法**：
  - 完整形式：`var identifier type = expression`  
    示例：`var num1 int = 200`（`num1`为变量名，`int`为类型，`200`为初始值）
  - 类型推断形式：`var identifier = initialValue`（省略类型，由编译器自动推断）  
    示例：`var num1 = 200`（编译器推断`num1`为`int`类型）


#### 二、多变量声明方式
`var`关键字支持同时声明多个变量，主要有以下两种方式：

| 声明方式       | 适用场景                  | 示例代码                                                                 |
|----------------|---------------------------|--------------------------------------------------------------------------|
| 单行声明       | 同类型变量或不同类型变量  | - 同类型：`var num1, num2, num3 int = 10, 20, 30`（需指定共同类型）<br>- 不同类型（类型推断）：`var num1, num2, bool1 = 10, 30.30, true`（省略类型，编译器分别推断） |
| 多行块声明     | 不同类型变量，格式更清晰  | ```go<br>var(<br>    num1 = 100<br>    num2 = 200.57<br>    bool1 bool<br>    string1 string = "Hello World"<br>)<br>``` |


#### 三、关键规则与特性
1. **声明限制**：使用`var`声明变量时，**不能同时省略类型和初始值**，否则会导致编译错误。例如：`var num1`（错误，缺少类型和初始值）。
2. **零值特性**：若声明变量时未指定初始值，变量会被自动赋予对应类型的**零值**，具体如下：
   - 数字类型（int、float等）：0
   - 布尔类型（bool）：false
   - 字符串类型（string）：空串（""）
   - 接口和引用类型：nil  
   示例代码及输出：
   ```go
   var num1 int    // 零值：0
   var string1 string // 零值：""
   var bool1 bool   // 零值：false
   ```


#### 四、示例代码与输出
- 多变量声明示例：
  ```go
  package main
  import "fmt"

  func main() {
      var var1, var2, var3 int = 232, 784, 854 // 同类型单行声明
      var var4, var5, var6 = 100, "GFG", 7896.46 // 不同类型（类型推断）

      fmt.Printf("var1: %d, var2: %d, var3: %d\n", var1, var2, var3)
      fmt.Printf("var4: %d, var5: %s, var6: %f\n", var4, var5, var6)
  }
  ```
  输出：
  ```
  var1: 232, var2: 784, var3: 854
  var4: 100, var5: GFG, var6: 7896.460000
  ```

- 零值示例：
  ```go
  package main
  import "fmt"

  func main() {
      var a int
      var b string
      var c bool
      fmt.Printf("a: %d, b: %s, c: %t\n", a, b, c)
  }
  ```
  输出：
  ```
  a: 0, b: , c: false
  ```


---

> 问：在Go语言中，使用var关键字声明变量时，能否同时省略类型和初始值？为什么？  

不能。因为Go语言规定，使用var声明变量时，要么指定类型（可省略初始值），要么通过初始值让编译器进行类型推断（可省略类型），但不能同时省略两者，否则编译器无法确定变量类型，会导致编译错误。

> 问：使用var关键字声明多个变量时，若变量类型不同，应采用哪种声明方式？请举例说明。  

应采用**类型推断的单行声明**或**多行块声明**，省略类型让编译器自动推断。例如：  
   - 单行：`var x, y, z = 10, "hello", 3.14`  
   - 多行块：`var(x=10; y="hello"; z=3.14)`  

> 问：未初始化的变量会有什么值？这一特性与其他编程语言（如Java）有何不同？  

未初始化的变量会被赋予对应类型的**零值**（如int为0，bool为false）。这与Java不同，Java中局部变量未初始化时不会被赋予默认值，直接使用会导致编译错误，而Go语言中所有变量（无论全局还是局部）未初始化时都有确定的零值，避免了“未初始化变量”的问题。
